<!DOCTYPE html>
<html>
<head>
	<title>Neural Knight</title>
	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: -apple-system, 'Segoe UI', system-ui, sans-serif;
			background: #1c1c1e;
			color: #e5e5e7;
			width: 280px;
			overflow: hidden;

			border-radius: 12px;
		}

		.header {
			background: linear-gradient(135deg, #2c2c2e, #1c1c1e);
			padding: 16px 16px 12px;
			border-bottom: 1px solid rgba(255,255,255,0.06);
		}

		.header-row { display: flex; align-items: center; gap: 10px; }

		.logo {
			width: 32px; height: 32px;
			background: #fff;
			border-radius: 8px;
			display: flex; align-items: center; justify-content: center;
			flex-shrink: 0;
		}

		.logo img { width: 24px; height: 24px; }

		.header-text h1 { font-size: 15px; font-weight: 700; color: #fff; letter-spacing: -0.2px; }
		.header-text p { font-size: 11px; color: #8e8e93; margin-top: 1px; }

		.content { padding: 12px 16px 16px; }

		.card {
			background: #2c2c2e;
			border-radius: 10px;
			padding: 12px;
			border: 1px solid rgba(255,255,255,0.04);
		}

		.card + .card { margin-top: 10px; }

		.row {
			display: flex;
			align-items: center;
			justify-content: space-between;
		}

		.row + .row {
			margin-top: 8px;
			padding-top: 8px;
			border-top: 1px solid rgba(255,255,255,0.04);
		}

		.label { font-size: 12px; color: #8e8e93; }
		.hint { font-size: 10px; color: #636366; display: block; margin-top: 1px; }

		.value {
			font-size: 12px; font-weight: 600; color: #fff;
			display: flex; align-items: center;
		}

		.dot {
			width: 7px; height: 7px; border-radius: 50%;
			background: #fff; display: inline-block;
			margin-right: 6px; animation: pulse 2s ease-in-out infinite;
		}

		.dot.off { background: #636366; animation: none; }

		@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

		.toggle {
			position: relative; width: 36px; height: 20px;
			border-radius: 10px; background: #636366;
			border: none; cursor: pointer; transition: background 0.2s;
			flex-shrink: 0; padding: 0; margin-left: 8px;
		}

		.toggle.on { background: #fff; }

		.toggle::after {
			content: ''; position: absolute; top: 2px; left: 2px;
			width: 16px; height: 16px; border-radius: 50%;
			background: #1c1c1e; transition: transform 0.2s;
		}

		.toggle.on::after { transform: translateX(16px); }

		.select {
			padding: 4px 8px;
			border: 1px solid rgba(255,255,255,0.12);
			border-radius: 6px; background: #1c1c1e;
			color: #fff; font-size: 11px;
			font-family: inherit; outline: none; cursor: pointer;
		}

		.select:focus { border-color: rgba(255,255,255,0.4); }

		.card-title {
			font-size: 11px; font-weight: 600; color: #8e8e93;
			text-transform: uppercase; letter-spacing: 0.5px;
			margin-bottom: 10px;
		}

		.input {
			width: 64px; padding: 5px 8px;
			border: 1px solid rgba(255,255,255,0.12);
			border-radius: 6px; background: #1c1c1e;
			color: #fff; font-size: 12px;
			font-family: 'SF Mono', 'Menlo', 'Consolas', monospace;
			text-align: right; outline: none;
		}

		.input:focus { border-color: rgba(255,255,255,0.4); }

		.save-btn {
			width: 100%; padding: 8px; border: none;
			border-radius: 8px; font-size: 12px; font-weight: 600;
			cursor: pointer; transition: all 0.15s ease;
			background: #2c2c2e; color: #8e8e93;
			border: 1px solid rgba(255,255,255,0.06);
			margin-top: 10px;
		}

		.save-btn:hover { background: #3a3a3c; color: #e5e5e7; }
		.save-btn.saved { background: rgba(255,255,255,0.1); color: #fff; border-color: rgba(255,255,255,0.2); }

		.info {
			display: flex; align-items: center; gap: 6px;
			margin-top: 10px; padding: 8px 10px;
			background: rgba(255,255,255,0.04); border-radius: 8px;
			border: 1px solid rgba(255,255,255,0.06);
		}

		.info span { font-size: 11px; color: #8e8e93; line-height: 1.3; }
		.info-icon { font-size: 12px; flex-shrink: 0; }

		#not-chess {
			display: none; text-align: center;
			padding: 24px 16px; color: #8e8e93;
			font-size: 13px; line-height: 1.5;
		}

		#not-chess b { color: #e5e5e7; }
	</style>
</head>
<body>
	<div class="header">
		<div class="header-row">
			<div class="logo"><img src="icon.png" alt=""></div>
			<div class="header-text">
				<h1>Neural Knight</h1>
				<p>Real-time game analysis</p>
			</div>
		</div>
	</div>

	<div id="main-content" class="content" style="display:none">
		<div class="card">
			<div class="row">
				<span class="label">Eval Bar</span>
				<span class="value">
					<span id="evalbar-dot" class="dot"></span>
					<span id="evalbar-text">Active</span>
					<button id="toggle-btn" class="toggle on"></button>
				</span>
			</div>
			<div class="row">
				<span class="label">Analysis Engine</span>
				<span class="value">
					<span id="engine-dot" class="dot"></span>
					<span id="engine-text">Active</span>
					<button id="engine-toggle" class="toggle on"></button>
				</span>
			</div>
			<div class="row">
				<span class="label">Move Hints</span>
				<span class="value">
					<span id="hints-dot" class="dot"></span>
					<span id="hints-text">Active</span>
					<button id="hints-toggle" class="toggle on"></button>
				</span>
			</div>
			<div class="row">
				<div>
					<span class="label">Dot Mode</span>
					<span class="hint">How move hints appear</span>
				</div>
				<select id="dot-mode" class="select">
					<option value="inconspicuous">Inconspicuous</option>
					<option value="normal">Normal</option>
				</select>
			</div>
		</div>

		<div class="card">
			<div class="card-title">Engine Settings</div>
			<div class="row">
				<div>
					<span class="label" style="color:#e5e5e7">Depth</span>
					<span class="hint">Higher = stronger, slower</span>
				</div>
				<input type="number" id="set-depth" class="input" min="8" max="24" value="14">
			</div>
			<div class="row">
				<div>
					<span class="label" style="color:#e5e5e7">Threads</span>
					<span class="hint">CPU cores to use</span>
				</div>
				<input type="number" id="set-threads" class="input" min="1" max="16" value="1">
			</div>
			<div class="row">
				<div>
					<span class="label" style="color:#e5e5e7">Hash (MB)</span>
					<span class="hint">Memory for positions</span>
				</div>
				<input type="number" id="set-hash" class="input" min="16" max="1024" step="16" value="16">
			</div>
			<button id="save-btn" class="save-btn">Save &amp; Restart Engine</button>
		</div>

		<div class="info">
			<span class="info-icon">&#9670;</span>
			<span>Best moves shown only on your turn</span>
		</div>
	</div>

	<div id="not-chess">
		Open a game on <b>chess.com</b> to start analyzing
	</div>

	<script src="popup.js"></script>
</body>
</html>
